<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Portal Escolar - Jamil Vilas Boas</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:'Poppins',sans-serif;
  background:#f5f7fa;
  height:100vh;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* LOGIN */
.login-box{
  background:white;
  padding:40px;
  border-radius:12px;
  box-shadow:0 0 15px rgba(0,0,0,0.1);
  width:90%;
  max-width:380px;
  text-align:center;
}
.login-box img{width:80px;margin-bottom:10px;}
.login-box h2{margin:10px 0;color:#2a3f54;}
.login-box input{
  width:100%;
  padding:12px;
  margin:10px 0;
  border:1px solid #ccc;
  border-radius:8px;
}
.login-box button{
  background:#2a3f54;
  color:white;
  border:none;
  padding:12px;
  border-radius:8px;
  width:100%;
  cursor:pointer;
}
#error-msg{color:red;font-size:14px;display:none;margin-top:10px;}

/* DASHBOARD */
.dashboard{display:none;width:100%;height:100vh;}
.sidebar{
  width:260px;
  background:#2a3f54;
  color:white;
  display:flex;
  flex-direction:column;
  transition:width .3s, transform .3s;
}
.sidebar.collapsed{width:70px;}
.sidebar .logo{
  display:flex;
  align-items:center;
  gap:10px;
  padding:15px;
  background:#1f2e3d;
  font-size:17px;
  font-weight:600;
}
.sidebar .logo img{width:35px;}
.sidebar.collapsed .logo span{display:none;}

.sidebar ul{list-style:none;flex-grow:1;}
.sidebar ul li{
  padding:14px 20px;
  display:flex;
  align-items:center;
  gap:14px;
  cursor:pointer;
  white-space:nowrap;
}
.sidebar ul li:hover,
.sidebar ul li.active{background:#1a2735;}
.sidebar ul li i{font-size:20px;}
.sidebar.collapsed ul li span{display:none;}

.main{flex-grow:1;display:flex;flex-direction:column;}
.header{
  height:60px;
  background:white;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 20px;
  box-shadow:0 1px 5px rgba(0,0,0,0.1);
}
.toggle-btn{font-size:22px;cursor:pointer;color:#2a3f54;}

.content{
  padding:20px;
  overflow:auto;
  background:#f5f7fa;
  height:calc(100vh - 60px);
}

/* CARDS */
.cards{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:20px;
}
.card{
  background:white;
  padding:20px;
  border-radius:12px;
  text-align:center;
  box-shadow:0 2px 10px rgba(0,0,0,0.1);
  cursor:pointer;
  transition: transform 0.2s;
}
.card:hover { transform: translateY(-5px); background: #fcfcfc; }
.card i{font-size:36px;color:#2a3f54;}
.card h3{margin:10px 0;}
.card p{font-size:14px;color:#666;}

iframe{
  width:100%;
  height:100%;
  min-height: 80vh;
  border:none;
  border-radius:10px;
}

@media(max-width:768px){
  .sidebar{
    position:fixed;
    left:0;
    top:0;
    bottom:0;
    transform:translateX(-100%);
    z-index:20;
  }
  .sidebar.show{transform:translateX(0);}
}
</style>
</head>

<body>

<div class="login-box" id="login-screen">
  <img src="https://cdn-icons-png.flaticon.com/512/167/167707.png">
  <h2>Portal Escolar</h2>
  <input type="password" id="senhaLogin" placeholder="Senha (pegue na secretaria)">
  <button onclick="entrar()">Entrar</button>
  <p id="error-msg">Senha inválida</p>
</div>

<div class="dashboard" id="dashboard">
  <div class="sidebar" id="sidebar">
    <div class="logo">
      <img src="https://cdn-icons-png.flaticon.com/512/167/167707.png">
      <span>Jamil Vilas Boas</span>
    </div>
    <ul>
      <li class="active" data-page="inicio"><i class="ri-home-5-line"></i><span>Início</span></li>
      <li data-page="calendario"><i class="ri-calendar-event-line"></i><span>Calendário</span></li>
      <li data-page="PPE"><i class="ri-book-open-line"></i><span>PPE Interativo</span></li>
      <li data-page="classroom"><i class="ri-google-line"></i><span>Salas Classroom</span></li>
      <li data-page="servicos"><i class="ri-customer-service-2-line"></i><span>Serviços Escolares</span></li>
      <li data-page="livros"><i class="ri-book-open-line"></i><span>Livros Virtuais</span></li>
      <li data-page="notas"><i class="ri-file-list-3-line"></i><span>Notas</span></li>
      <li data-page="noticias"><i class="ri-newspaper-line"></i><span>Notícias e Eventos</span></li>
      <li data-page="avaliacao"><i class="ri-survey-line"></i><span>Avaliação Institucional</span></li>
      <li data-page="indices"><i class="ri-bar-chart-line"></i><span>Índices Escolares</span></li>
    </ul>
  </div>

  <div class="main">
    <div class="header">
      <span class="toggle-btn" id="toggleBtn"><i class="ri-menu-line"></i></span>
    </div>
    <div class="content" id="content"></div>
  </div>
</div>

<script>
const SENHAS=["cidadania","responsavel123"];
const sidebar=document.getElementById("sidebar");
const content=document.getElementById("content");

function entrar(){
  const s=document.getElementById("senhaLogin").value;
  if(SENHAS.includes(s)){
    document.getElementById("login-screen").style.display="none";
    document.getElementById("dashboard").style.display="flex";
    pages.inicio();
  }else document.getElementById("error-msg").style.display="block";
}

document.getElementById("toggleBtn").onclick=()=>{
  if(window.innerWidth<=768) sidebar.classList.toggle("show");
  else sidebar.classList.toggle("collapsed");
};

function openIframe(url){
  content.innerHTML=`<iframe src="${url}"></iframe>`;
}

function cards(lista){
  content.innerHTML = `
    <div class="cards">
      ${lista.map(c => {
        // Se for Classroom ou Google Docs/Sheets, abre em aba externa. Caso contrário, no Iframe central.
        const isExternal = c.link.includes("classroom.google.com") || c.link.includes("docs.google.com/spreadsheets");
        
        return `
          <div class="card" onclick="${
            isExternal 
              ? `window.open('${c.link}','_blank')` 
              : `openIframe('${c.link}')`
          }">
            <i class="${c.icon}"></i>
            <h3>${c.title}</h3>
            <p>${c.desc}</p>
          </div>
        `;
      }).join("")}
    </div>
  `;
}

const pages={
inicio: () => {
  content.innerHTML = `
  <div class="inicio-home">
    <style>
      .inicio-home{ max-width:1000px; margin:auto; background:#ffffff; padding:24px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,.1); }
      .home-header{ text-align:center; margin-bottom:20px; }
      .home-header h2{ color:#2a3f54; margin-bottom:8px; }
      .carousel{ position:relative; overflow:hidden; border-radius:12px; margin-top:20px; }
      .carousel-track{ display:flex; transition:transform .6s ease-in-out; width:100%; }
      .carousel img{ width:100%; height:420px; object-fit:cover; flex-shrink:0; }
      .carousel-btn{ position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,.6); color:#fff; border:none; padding:10px 14px; cursor:pointer; border-radius:50%; z-index:2; }
      .carousel-btn.prev{ left:10px; }
      .carousel-btn.next{ right:10px; }
      @media(max-width:768px){ .carousel img{ height:260px; } }
    </style>
    <div class="home-header">
      <h2>Bem-vindos à EMEIEF Jamil Vilas Boas</h2>
      <p>Gestão participativa e ensino de qualidade.</p>
    </div>
    <div class="carousel">
      <div class="carousel-track">
        <img src="https://drive.google.com/thumbnail?id=1vxTsQFwLG3_iBWft0Z5WX9obWeTDYkUb&sz=w1600">
        <img src="https://drive.google.com/thumbnail?id=160wVUt8oCQtUubh6EpxzvtAOxQdOFwWK&sz=w1600">
        <img src="https://drive.google.com/thumbnail?id=1GaBsXamzz9Qissa9aDSvu3uvpc7sg9ZY&sz=w1600">
      </div>
      <button class="carousel-btn prev">&#10094;</button>
      <button class="carousel-btn next">&#10095;</button>
    </div>
  </div>`;
  
  setTimeout(() => {
    const track = document.querySelector('.carousel-track');
    if(!track) return;
    let index = 0;
    const slides = track.children.length;
    document.querySelector('.next').onclick = () => { index = (index + 1) % slides; track.style.transform = `translateX(-${index * 100}%)`; };
    document.querySelector('.prev').onclick = () => { index = (index - 1 + slides) % slides; track.style.transform = `translateX(-${index * 100}%)`; };
    setInterval(() => { index = (index + 1) % slides; track.style.transform = `translateX(-${index * 100}%)`; }, 5000);
  }, 0);
},

calendario:()=>openIframe("https://profkleidivaldo.github.io/calendarioescolar/"),
PPE:()=>openIframe("https://profkleidivaldo.github.io/PPEJamil/"),

classroom: () => cards([
  { title: "1º ANO A", desc: "Abrir Google Classroom", icon: "ri-google-line", link: "https://classroom.google.com/c/NzkzMDcyNjc4ODc5?cjc=pccfcqj7" },
  { title: "2º ANO A", desc: "Abrir Google Classroom", icon: "ri-google-line", link: "https://classroom.google.com/c/NzkzMDcyNTI1NjI0?cjc=icdhmwnd" },
  { title: "3º ANO A", desc: "Abrir Google Classroom", icon: "ri-google-line", link: "https://classroom.google.com/c/NzkzMDcyOTY0MTQy?cjc=xdiqfyy3" },
  { title: "4º ANO A", desc: "Abrir Google Classroom", icon: "ri-google-line", link: "https://classroom.google.com/c/NzkzMDcyNzA5MzIw?cjc=mbqojpdt" },
  { title: "5º ANO A", desc: "Abrir Google Classroom", icon: "ri-google-line", link: "https://classroom.google.com/c/NzkzMDcyODIwNDI1?cjc=g2jngxbm" }
]),

servicos: () => cards([
  { title: "Ouvidoria", desc: "Sugestões e reclamações", icon: "ri-feedback-line", link: "https://profkleidivaldo.github.io/formouvidoria/" },
  { title: "Portfólio Digital", desc: "Projetos dos alunos", icon: "ri-gallery-line", link: "https://profkleidivaldo.github.io/portfolio/" },
  { title: "Secretaria", desc: "Requerimentos e avisos", icon: "ri-file-text-line", link: "https://docs.google.com/forms/d/e/1FAIpQLSdMD9B6qU49UR00_VqKiIhfYLtZ8MBI0kuZRFgD6q95V3B1-w/viewform" },
  { title: "Regimento PPE", desc: "Normas da Escola", icon: "ri-article-line", link: "https://profkleidivaldo.github.io/PPEJamil/" }
]),

livros:()=>cards([{title:"Biblioteca Digital",desc:"Acesso aos livros",icon:"ri-book-2-line",link:"https://profkleidivaldo.github.io/livroteste/"}]),

notas: () => cards([
  { title: "2º ANO A", desc: "Abrir Planilha de Notas", icon: "ri-table-line", link: "https://docs.google.com/spreadsheets/d/1VIPziJjz5x7txixdm_183n2-vA5I1OTxkYPrTN9ly5I/edit" },
  { title: "3º ANO A", desc: "Abrir Planilha de Notas", icon: "ri-table-line", link: "https://docs.google.com/spreadsheets/d/1rhNqV4V8cN-yM8-CEixw5V9EskX0mRsrY4k1kzmDUvg/edit" },
  { title: "4º ANO A", desc: "Abrir Planilha de Notas", icon: "ri-table-line", link: "https://docs.google.com/spreadsheets/d/1KxsfsFpxGVstJ5LunZUWlGIMfxlRtl0TvFsO2txmXuA/edit" },
  { title: "5º ANO A", desc: "Abrir Planilha de Notas", icon: "ri-table-line", link: "https://docs.google.com/spreadsheets/d/11uMzTIWcckPgdpcOwiKrlhxTWLG5hPWzn1wJirQ70-4/edit" }
]),

noticias:()=>openIframe("https://profkleidivaldo.github.io/revistaescolar/"),

avaliacao:()=>cards([
 {title:"Docentes",desc:"Avaliação dos professores",icon:"ri-user-star-line",link:"https://docs.google.com/forms/d/e/1FAIpQLSdMD9B6qU49UR00_VqKiIhfYLtZ8MBI0kuZRFgD6q95V3B1-w/viewform"},
 {title:"Comunidade",desc:"Avaliação da Gestão",icon:"ri-community-line",link:"https://docs.google.com/forms/d/e/1FAIpQLSdMD9B6qU49UR00_VqKiIhfYLtZ8MBI0kuZRFgD6q95V3B1-w/viewform"}
]),

indices:()=>cards([
 {title:"SAEB",desc:"Índice Nacional",icon:"ri-line-chart-line",link:"https://app.powerbi.com/view?r=eyJrIjoiMGVjMzIwZWQtM2IzZS00NmE0LTkwNjUtZjI1YjMyNTVhZGY0IiwidCI6IjI2ZjczODk3LWM4YWMtNGIxZS05NzhmLWVhNGMwNzc0MzRiZiJ9"},
 {title:"SAERO",desc:"Índice Estadual",icon:"ri-bar-chart-2-line",link:"https://rondoniadigital.com/noticia/28690/escolas-de-ji-parana-sao-premiadas-pela-qualidade-do-ensino"}
])
};

document.querySelectorAll(".sidebar li").forEach(li=>{
  li.onclick=()=>{
    document.querySelector(".sidebar li.active")?.classList.remove("active");
    li.classList.add("active");
    pages[li.dataset.page]();
    if(window.innerWidth<=768) sidebar.classList.remove("show");
  };
});
</script>

</body>
</html>
